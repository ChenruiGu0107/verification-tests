apiVersion: logging.openshift.io/v1alpha1
kind: LogForwarding
metadata:   
  name: instance   
  namespace: openshift-logging
spec:   
  outputs:     
    - name: elasticsearch-default
      type: elasticsearch
      endpoint: 'elasticsearch.openshift-logging.svc:9200'
      secret:
         name: 'fluentd'
    - name: fluentd-created-by-user
      type: forward
      endpoint: 'fluentdserver.openshift-logging.svc:24224'
      secret:
         name: 'pipelinesecret'
  pipelines:
    - name: app-pipeline
      inputSource: logs.app
      outputRefs:
        - elasticsearch-default
    - name: infra-pipeline
      inputSource: logs.infra
      outputRefs:
        - fluentd-created-by-user
    - name: audit-pipeline
      inputSource: logs.audit
      outputRefs:
        - fluentd-created-by-user
