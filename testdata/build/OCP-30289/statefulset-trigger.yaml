apiVersion: v1
kind: List
items:
- apiVersion: image.openshift.io/v1
  kind: ImageStream
  metadata:
    name: rubytest
  spec:
    lookupPolicy:
      local: true
    tags:
    - name: latest
      importPolicy:
        scheduled: true
      from:
        kind: DockerImage
        name: quay.io/openshifttest/ruby-25-centos7
- apiVersion: apps/v1
  kind: StatefulSet
  metadata:
    name: testtrigger
    annotations:
      image.openshift.io/triggers: '[{"from":{"kind":"ImageStreamTag","name":"rubytest:latest"},"fieldPath":"spec.template.spec.containers[?(@.name==\"testtrigger\")].image"}]'
  spec:
    selector:
      matchLabels:
        app: testtrigger
    replicas: 1
    template:
      metadata:
        labels:
          app: testtrigger
      spec:
        containers:
        - name: testtrigger
          image: rubytest:latest
          command:
          - /bin/sleep
          args:
          - infinity
